<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics Dashboard</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #343a40;
            --border-radius: 8px;
            --shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .dashboard-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Desktop Layout (4 columns for metrics, 2 columns for charts) */
        @media (min-width: 768px) {
            .metric-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            .chart-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .dashboard-container {
                grid-template-columns: 1fr; /* Ensures main container is still 1 column */
            }
        }

        /* Tablet/Small Desktop Layout */
        @media (min-width: 576px) and (max-width: 767px) {
            .metric-grid, .chart-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .metric-grid, .chart-grid {
            display: grid;
            gap: 20px;
        }

        .card {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .card h3 {
            margin-top: 0;
            font-size: 1.1em;
            color: var(--secondary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--primary-color);
            margin: 5px 0 0 0;
        }

        .metric-change {
            font-size: 0.9em;
            color: green;
        }

        /* Chart-specific styles (for demonstration) */
        .chart-placeholder {
            min-height: 250px;
            background-color: #f1f1f1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #aaa;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <header style="background-color: var(--primary-color); color: white; padding: 20px; text-align: center;">
        <h1>ðŸ“Š Interactive Analytics Dashboard</h1>
    </header>

    <div class="dashboard-container">
        
        <div class="metric-grid">
            <div class="card metric" id="card-users">
                <h3>Total Users</h3>
                <p class="metric-value">12,450</p>
                <p class="metric-change" style="color: green;">+4.5% Since Last Month</p>
            </div>
            
            <div class="card metric" id="card-sales">
                <h3>Total Sales ($)</h3>
                <p class="metric-value">$56,120</p>
                <p class="metric-change" style="color: red;">-1.2% Since Last Month</p>
            </div>

            <div class="card metric" id="card-traffic">
                <h3>Website Traffic</h3>
                <p class="metric-value">98,011</p>
                <p class="metric-change" style="color: green;">+12.8% Since Last Month</p>
            </div>
            
            <div class="card metric" id="card-conversion">
                <h3>Conversion Rate</h3>
                <p class="metric-value">3.2%</p>
                <p class="metric-change" style="color: green;">+0.1% Since Last Month</p>
            </div>
        </div>

        <div class="chart-grid">
            <div class="card chart" id="chart-main-traffic">
                <h3>Revenue Trend (Last 6 Months)</h3>
                <div class="chart-placeholder">
                    Chart Placeholder: Line Graph
                </div>
            </div>

            <div class="card chart" id="chart-user-geo">
                <h3>Users by Geography</h3>
                <div class="chart-placeholder">
                    Chart Placeholder: Pie/Donut Chart
                </div>
            </div>

            <div class="card chart" id="chart-device">
                <h3>Device Breakdown</h3>
                <div class="chart-placeholder">
                    Chart Placeholder: Bar Chart
                </div>
            </div>

            <div class="card chart" id="chart-sessions">
                <h3>Average Session Duration</h3>
                <div class="chart-placeholder">
                    Chart Placeholder: Gauge or Simple Metric
                </div>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Dashboard is loaded and ready.');

            // --- 1. FUNCTION TO UPDATE METRICS ---
            const updateMetric = (id, newValue, newChange, isPositive) => {
                const card = document.getElementById(id);
                if (card) {
                    card.querySelector('.metric-value').textContent = newValue;
                    const changeElement = card.querySelector('.metric-change');
                    changeElement.textContent = newChange + ' Since Last Month';
                    changeElement.style.color = isPositive ? 'green' : 'red';
                }
            };

            // --- 2. SIMULATE ASYNC DATA FETCH ---
            const fetchData = () => {
                console.log('Fetching new data...');
                
                // Simulate receiving new data from an API
                const newData = {
                    users: { value: '13,050', change: '+5.5%', positive: true },
                    sales: { value: '$60,500', change: '+7.8%', positive: true },
                    traffic: { value: '105,200', change: '+7.3%', positive: true },
                    conversion: { value: '3.5%', change: '+0.3%', positive: true }
                };

                // Update the dashboard metrics
                updateMetric('card-users', newData.users.value, newData.users.change, newData.users.positive);
                updateMetric('card-sales', newData.sales.value, newData.sales.change, newData.sales.positive);
                updateMetric('card-traffic', newData.traffic.value, newData.traffic.change, newData.traffic.positive);
                updateMetric('card-conversion', newData.conversion.value, newData.conversion.change, newData.conversion.positive);

                // In a real application, you would initialize or update your charting library (e.g., Chart.js) here
                console.log('Charts would be rendered/updated here.');
            };

            // --- 3. RUN INITIAL DATA LOAD & SETUP REFRESH INTERVAL ---
            fetchData(); // Load data immediately on page load

            // Set up a 60-second automatic refresh (for a live dashboard feel)
            // setInterval(fetchData, 60000); 

            // --- 4. EXAMPLE INTERACTION: Card click opens a detail view ---
            document.querySelectorAll('.metric').forEach(card => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', () => {
                    alert(`Clicked on ${card.querySelector('h3').textContent}. \nIn a real app, this would navigate to a detail page.`);
                });
            });

        });
    </script>

</body>
</html>
